extends layouts/base-layout
block append content
    .container
        .alert.alert-danger(style={display:'none'})
        .row
          .col-md-6.col-md-offset-3
            form
              .form-group
                label  用户名
                input(type="text").form-control#name
              .form-group
                label 手机号
                input(type="text").form-control#phone(onblur="checkPhone()")
              .form-group
                label 密码
                input(type="password").form-control#password
              .form-group
                label 确认密码
                input(type="password").form-control#repeatPassword(onblur="checkRepeatPassword()")
              .form-group
                label 学校
                input(type="text").form-control#school
              .form-group
                label 专业
                input(type="text").form-control#specil
              .from-group
                label 年级
                input(type="text").form-control#grader
              .row
                .col-md-6.col-md-offset-3
                  .btn.btn-success.btn-block.text-center(onclick="signup()")  注册
         


block append script
    script.
        var canSignup=false;
        var errorMsg;
        function signup(){
            var name =$('#name').val();
            var phone = $('#phone').val();
            var password =$('#password').val();
            var repeatPassword = $('#repeatPassword').val();
            var school= $('#school').val();
            var specil =$('#specil').val();
            var grader = $('#grader').val();
            
            if(checkPhone()&&checkRepeatPassword()){
                if(name&&phone&&password&&repeatPassword&&school&&specil&&grader){
                        
                        console.log(name,phone,password,repeatPassword,school,specil,grader);
            
                }else{
                    alert('请填写完整信息');
                }
            
            
            }
        }
        function checkPhone(){
            if(/^1[3-9]\d{9}$/.test($('#phone').val())){
                $('.alert').hide();
                    return true;
            }else{
                $('.alert').text('请输入正确的手机号').show();
                return false;
            }
        }
        function checkRepeatPassword(){
          if($('#password').val()!=$('#repeatPassword').val()){
              $('.alert').text('两次输入的密码不一致').show();
                return false;
          }else{
            $('.alert').hide();
            return true;
          }
        }
